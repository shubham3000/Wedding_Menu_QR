<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Wedding Menu Card</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body
    class="min-h-screen bg-gradient-to-b from-orange-50 to-amber-100 flex items-center justify-center p-6"
  >
    <!-- Menu Card Container (filled by JS) -->
    <div
      id="menu-card"
      class="max-w-sm w-full bg-white shadow-xl rounded-3xl p-6 border border-yellow-300"
    >
      <!-- Fallback content while loading -->
      <p class="text-center text-sm text-gray-500">Loading menu...</p>
    </div>

    <script>
      // Load JSON and render menu
      async function loadMenu() {
        const container = document.getElementById("menu-card");

        try {
          const response = await fetch("menu-data.json");
          if (!response.ok) {
            throw new Error("Failed to load menu-data.json");
          }

          const data = await response.json();

          // Build sections HTML
          const sectionsHtml = data.sections
            .map((section) => {
              const itemsHtml = section.items
                .map(
                  (item) =>
                    `<li class="list-disc list-inside text-sm text-gray-700">${item}</li>`
                )
                .join("");

              return `
              <div class="mb-4">
                <h3 class="text-sm font-bold text-yellow-700 mb-1">${section.title}</h3>
                <ul class="space-y-1">
                  ${itemsHtml}
                </ul>
              </div>
            `;
            })
            .join("");

          // Full card HTML
          container.innerHTML = `
          <!-- Header -->
          <div class="text-center mb-4">
            <h1 class="text-xl font-bold text-yellow-700 tracking-wide">
              ${data.coupleName || ""}
            </h1>
            ${
              data.tagline
                ? `<p class="text-xs text-gray-600 -mt-1">${data.tagline}</p>`
                : ""
            }
            <div class="border-b border-yellow-300 w-24 mx-auto mt-2"></div>
          </div>

          <!-- Menu Title -->
          <h2 class="text-center text-lg font-semibold text-yellow-800 mb-4">
            ${data.title || "Menu"}
          </h2>

          <!-- Menu Sections -->
          <div class="space-y-2">
            ${sectionsHtml}
          </div>

          <!-- Footer -->
          ${
            data.footerNote
              ? `<p class="text-center text-[11px] text-gray-500 mt-6">
                  ${data.footerNote}
                </p>`
              : ""
          }
          <!-- Copyright Info -->
          ${
            data.copyrightInfo
              ? `<p class="text-center text-[11px] text-gray-500 mt-2">
                  ${data.copyrightInfo}
                </p>`
              : ""
          }
        `;
        } catch (error) {
          console.error(error);
          container.innerHTML = `
          <p class="text-center text-sm text-red-600">
            Unable to load menu. Please try again later.
          </p>
        `;
        }
      }

      loadMenu();
    </script>
  </body>
</html>
